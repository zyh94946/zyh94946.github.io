<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#333"><meta name="msapplication-TileColor" content="#333"><script>window.ga_tid="UA-146915508-1",window.ga_url="https://ga.ibelieving.io"</script><script async src="/js/ga.min.js"></script><title>Argo CD 实践 GitOps | ibelieving.io Software Development Blog</title><meta name="keywords" content="微服务, 服务网格, 架构设计, PHP, Golang, Linux"><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-chrome-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"><link rel="mask-icon" href="/favicons/safari-pinned-tab.svg" color="#333"><meta name="msapplication-config" content="/favicons/browserconfig.xml"><link rel="alternate" href="/atom.xml" title="ibelieving.io Software Development Blog" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicons/favicon.ico"><link rel="stylesheet" href="/css/normalize.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/css/sidebar.css"><link rel="stylesheet" href="/css/page.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/atom-one-dark.css"><link rel="stylesheet" href="/css/lightgallery.min.css"><script src="/js/jquery.min.js"></script><script defer src="/js/util.js"></script><script defer src="/js/clipboard.min.js"></script><script defer src="/js/scrollspy.js"></script><script defer src="/js/fontawesome-all.min.js"></script><script defer src="/js/lightgallery.min.js"></script><script defer src="/js/lg-fullscreen.min.js"></script><script defer src="/js/lg-hash.min.js"></script><script defer src="/js/lg-pager.min.js"></script><script defer src="/js/lg-thumbnail.min.js"></script><script defer src="/js/lg-zoom.min.js"></script><script defer src="/js/busuanzi.pure.mini.js"></script><script defer src="/js/search.js"></script><script>$(document).ready(function(){var e="search.xml";0===e.length&&(e="search.xml"),searchFunc("/"+e,"search-input","search-result")})</script><script defer src="/js/index.js"></script><script>$(document).ready(function(){var t=$(".post figure.highlight");(t.length?($(t).each(function(t,n){$(n).before('<button class="copy button">复制</button>')}),new ClipboardJS("button.copy",{target:function(t){return t.nextElementSibling.firstChild.firstChild.firstChild.lastChild.firstChild.firstChild}})):(t=$(".post pre code"),$(t).each(function(t,n){$(n).parent().before('<button class="copy button">复制</button>')}),new ClipboardJS("button.copy",{target:function(t){return t.nextElementSibling.firstChild}}))).on("success",function(t){t.clearSelection();var n=t.trigger;n.innerHTML="已复制",$(n).addClass("copied"),setTimeout(function(){n.innerHTML="复制",$(n).removeClass("copied")},1500)})})</script><script defer src="/js/custom.js"></script><meta name="generator" content="Hexo 4.2.1"></head><body itemscope itemtype="https://schema.org/WebPage" lang="zh-CN" data-spy="scroll" data-target=".list-group"><header id="header" class="header"><div class="container"><div class="header-container"><div class="header-title"><h1 class="title"><a href="/">ibelieving.io Software Development Blog</a></h1><h2 class="subtitle"></h2></div></div><nav id="nav" class="nav"><a id="nav-toggle" class="nav-toggle" aria-hidden="true"><i class="fas fa-bars" aria-label="切换导航栏"></i></a><ul id="menu" role="menubar" aria-hidden="false"><li role="menuitem"><a href="/"><i class="fas fa-home"></i><span class="menu-text">首页</span></a></li><li role="menuitem"><a href="/archives/"><i class="fas fa-archive"></i><span class="menu-text">归档</span></a></li></ul></nav></div></header><main id="main" class="main"><div class="container"><div class="main-container"><div class="content"><div id="post" class="page"><article class="article post card" itemscope itemtype="https://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://ibelieving.io/2022/07/30/argocd/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Zhongyang Hao"><meta itemprop="description" content="生命在于运动，技术在于折腾。"><meta itemprop="image" content="/images/avatar.gif"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="ibelieving.io Software Development Blog"></span></div><header class="post-header"><h1 class="post-title" itemprop="name headline">Argo CD 实践 GitOps</h1><div class="post-meta"><span class="post-date"><i class="far fa-calendar-plus"></i><span><time title="post-date" itemprop="dateCreated datePublished" datetime="2022-07-30T11:00:00+08:00">2022-07-30 上午</time></span></span></div></header><main class="post-main" itemprop="articleBody"><h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>书接上文 <a href="https://ibelieving.io/2022/07/12/onedev/">OneDev 自建 Git 服务和 CI/CD</a>，这次通过 ArgoCD 实现项目部署，项目编译、镜像构建依然通过 OneDev 流水线实现。当然用别的 Git 服务也是可以的。</p><p>Argo CD 被实现为一个 kubernetes 控制器，它持续监控正在运行的应用程序并将当前的活动状态与所需的目标状态（如 Git repo 中指定的）进行比较。Argo CD 报告和可视化差异，同时提供自动或手动将实时状态同步回所需目标状态的工具。</p><p>上次 git 仓库只有一个，这次 git 仓库分为两个</p><p>wx-msg-push 为项目代码<br>gitops 应用部署定义</p><p>整体流程为：</p><ul><li>wx-msg-push 正常开发提交</li><li>当创建 tag 推送时，触发 OneDev 流水线构建</li><li>检出 wx-msg-push 代码，在容器中编译可执行文件，生成多平台可执行文件压缩包制品</li><li>通过 kaniko 构建 wx-msg-push 项目镜像，推送至镜像仓库</li><li>检出 gitops 代码，修改 wx-msg-push 项目 yaml 文件的镜像版本后 push</li><li>在 argocd 中发现 gitops 配置变更</li><li>同步应用最新状态</li></ul><h2 id="安装部署"><a href="#安装部署" class="headerlink" title="安装部署"></a>安装部署</h2><p>高可用配置请参考 <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/high_availability/" target="_blank" rel="noopener">High Availability</a></p><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> kubectl create namespace argocd</span><br><span class="hljs-meta">$</span><span class="bash"> kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml</span><br></code></pre></td></tr></table></figure><p>安装之后默认会启用 <code>TLS</code> 验证和 <code>http</code> 强制跳转至 <code>https</code>。<br>我这里不需要，直接修改 <code>argocd-server</code> 配置 <code>kubectl -n argocd edit deployments.apps argocd-server</code>，增加运行 <code>insecure</code> 运行参数，取消该限制。</p><figure class="hljs highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">containers:</span><br><span class="hljs-attr">- command:</span><br><span class="hljs-bullet">  -</span> <span class="hljs-string">argocd-server</span><br><span class="hljs-bullet">  -</span> <span class="hljs-bullet">--insecure</span><br></code></pre></td></tr></table></figure><p>然后来查看服务地址</p><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> kubectl -n argocd get svc</span><br>NAME                                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)                      AGE<br>argocd-applicationset-controller          ClusterIP   10.98.109.34     &lt;none&gt;        7000/TCP,8080/TCP            18m<br>argocd-dex-server                         ClusterIP   10.108.192.57    &lt;none&gt;        5556/TCP,5557/TCP,5558/TCP   18m<br>argocd-metrics                            ClusterIP   10.103.219.23    &lt;none&gt;        8082/TCP                     18m<br>argocd-notifications-controller-metrics   ClusterIP   10.105.150.33    &lt;none&gt;        9001/TCP                     18m<br>argocd-redis                              ClusterIP   10.96.158.98     &lt;none&gt;        6379/TCP                     18m<br>argocd-repo-server                        ClusterIP   10.111.153.43    &lt;none&gt;        8081/TCP,8084/TCP            18m<br>argocd-server                             ClusterIP   10.98.129.33     &lt;none&gt;        80/TCP,443/TCP               18m<br>argocd-server-metrics                     ClusterIP   10.110.107.116   &lt;none&gt;        8083/TCP                     18m<br></code></pre></td></tr></table></figure><p>获取密码 <code>kubectl -n argocd get secret argocd-initial-admin-secret -o jsonpath=&quot;{.data.password}&quot; | base64 -d; echo</code></p><p>下载 <a href="https://github.com/argoproj/argo-cd/releases/latest" target="_blank" rel="noopener">argocd cli</a> 可以通过命令行直接控制</p><p>cli 登录<br></p><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> argocd login 10.98.129.33 --username admin</span><br>Password:<br>'admin:login' logged in successfully<br>Context '10.98.129.33' updated<br></code></pre></td></tr></table></figure><p></p><p>cli 修改密码<br></p><figure class="hljs highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">$</span><span class="bash"> argocd account update-password</span><br>*** Enter password of currently logged in user (admin):<br>*** Enter new password for user admin:<br>*** Confirm new password for user admin:<br>Password updated<br>Context '10.98.129.33' updated<br></code></pre></td></tr></table></figure><p></p><p>给 <code>argocd-server Service</code> 加个 <code>Ingress</code> 再配个负载均衡加个二级域名解析，就直接略过了，可以参考之前的文章。也可以通过暴露 <code>Node port</code> 方式访问。</p><p><img src="/images/argocd1.jpg" alt="dashboard"></p><p>登录之后 Applications 还是空的，目前也没有中文界面。</p><h2 id="创建-Projects"><a href="#创建-Projects" class="headerlink" title="创建 Projects"></a>创建 Projects</h2><p>先创建一个 Projects，<code>SOURCE REPOSITORIES</code> 可以限制仓库来源，<code>DESTINATIONS</code> 部署到的目标集群限制，<code>CLUSTER RESOURCE</code>、<code>NAMESPACE RESOURCE</code> 资源权限限制，先都直接给 * 想细分可以直接细化。<br><img src="/images/argocd2.jpg" alt="NEW PROJECT"><br><img src="/images/argocd3.jpg" alt="NEW PROJECT"></p><h2 id="创建-repo"><a href="#创建-repo" class="headerlink" title="创建 repo"></a>创建 repo</h2><p>可以选择 <code>ssh</code>, <code>https</code> 方式，在配置中加上 gitops 仓库地址，Project 选择刚才添加的 nico。<br><img src="/images/argocd9.jpg" alt="Connect Repo using HTTPS"></p><h2 id="创建-App"><a href="#创建-App" class="headerlink" title="创建 App"></a>创建 App</h2><p>在 Applications 中新增 App，可以通过 <code>EDIT AS YAML</code> 直接编辑。<br><img src="/images/argocd4.jpg" alt="NEW APP"><br>SYNC POLICY 同步策略，可以选择自动或手动</p><ul><li>PRUNE RESOURCES 是否清理未定义资源，参考 <a href="https://argo-cd.readthedocs.io/en/stable/user-guide/sync-options/#no-prune-resources" target="_blank" rel="noopener">No Prune Resources</a></li><li>SELF HEAL 自动修复，当集群中应用与定义不符时自动修复</li></ul><p>SYNC OPTIONS</p><ul><li>SKIP SCHEMA VALIDATION 跳过验证也就是 <code>kubectl apply --validate=false</code></li><li>AUTO-CREATE NAMESPACE 没啥可说的</li><li>PRUNE LAST 对资源进行修剪时建议勾选，参考 <a href="https://github.com/argoproj/argo-cd/issues/5080" target="_blank" rel="noopener">Allow resource pruning to be an implicit final wave of a sync operation</a></li><li>APPLY OUT OF SYNC ONLY 只同步不同步的资源。目前，当使用自动同步 ArgoCD 进行同步时，会应用应用程序中的每个对象。 对于包含数千个对象的应用程序，这需要相当长的时间，并对 api 服务器施加过大的压力。</li><li>RESPECT IGNORE DIFFERENCES 是否在同步的时候也忽略 <code>spec.ignoreDifferences</code> 差异配置。默认情况下 <code>spec.ignoreDifferences</code> 配置仅用于计算实时状态和期望状态之间的差异。</li></ul><p>PRUNE PROPAGATION POLICY 集联删除策略，分为三种。文档上看默认是 <code>background</code> 详情参考 <a href="https://kubernetes.io/docs/concepts/architecture/garbage-collection/#cascading-deletion" target="_blank" rel="noopener">cascading-deletion</a>。</p><ul><li>foreground 前台，先标记删除资源本身，然后删除所有关联子资源，再删除资源本身。</li><li>background 后台，直接删除资源本身，再处理关联子资源。</li><li>orphan 孤儿模式，直接删除资源本身，子资源垃圾回收器处理。</li></ul><p>REPLACE 使用 <code>kubectl replace/create</code> 代替 <code>kubectl apply</code><br>RETRY 重试配置</p><p><img src="/images/argocd5.jpg" alt="NEW APP"><br>Path 可指定要配置文件目录<br>最下面为部署时的工具配置，可以选择 <code>Directory</code>、<code>Helm</code>、<code>Kustomize</code>、<code>Plugin</code>。</p><p><img src="/images/argocd6.jpg" alt="创建完成"></p><h2 id="同步时机"><a href="#同步时机" class="headerlink" title="同步时机"></a>同步时机</h2><p>argocd 默认每三分钟会检查一次仓库是否有新的修改，如果想要实时更新可以通过 webhook 通知 argocd。但是目前 argocd webhook 仅支持 GitHub, Bitbucket, GitLab, Gogs。对于未支持的 git 服务配置 webhook 会返回 <code>Unknown webhook event</code> <a href="https://github.com/argoproj/argo-cd/blob/470176b77a695eea55bf60d20a18b30f99c7625e/util/webhook/webhook.go#L408" target="_blank" rel="noopener">见此</a>，clone 下来可以自己适配下 onedev webhook 也不算太麻烦。当然也可以在页面手动更新。<br>默认轮询间隔配置可以通过 <code>argocd-cm</code> <code>Configmap</code> 的 <code>timeout.reconciliation</code> 修改，如果想禁用设成 0s 即可，这里我改成 30s 看下效果。yaml 参考 <a href="https://github.com/argoproj/argo-cd/blob/master/docs/operator-manual/argocd-cm.yaml" target="_blank" rel="noopener">argocd-cm.yaml</a><br></p><figure class="hljs highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ kubectl edit configmap argocd-cm -n argocd<br></code></pre></td></tr></table></figure><p></p><p>现在我修改下 <code>wx-msg-push</code> 代码，push 一个新 tag，就会触发整个流程。最终通过 argocd 部署新版本应用，在 k8s 中对该应用进行修改导致与配置定义不一致的行为都会自动修复。<br><img src="/images/argocd7.jpg" alt="APP"></p><p>可以看到部署的历史详情，还可以进行回滚，回滚会禁用自动同步，可以再手动开启。<br><img src="/images/argocd8.jpg" alt="History and rollback"></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本文实践了 <code>Argo CD</code> 全程基本通过 web ui 操作，也可以通过 <code>cli</code> 操作。其中 webhook 只支持几个大牌 git，如果使用未支持的 git 服务，建议自行适配，如果不想侵入修改也可以编写远程脚本执行 <code>argocd cli</code> 来触发，达到同样的效果。<code>timeout.reconciliation</code> 建议直接禁用就好了。<br><code>Argo CD</code> 不止于此，还有更多使用姿势及配置请通过官方文档了解。</p><ul><li><a href="https://argo-cd.readthedocs.io/en/stable/" target="_blank" rel="noopener">Argo CD - Declarative GitOps CD for Kubernetes</a></li></ul></main><footer class="post-footer"><div class="post-tags"><a class="post-tag button" href="/tags/k8s/" rel="tag"><i class="fas fa-tags"></i>k8s</a> <a class="post-tag button" href="/tags/devops/" rel="tag"><i class="fas fa-tags"></i>devops</a> <a class="post-tag button" href="/tags/gitops/" rel="tag"><i class="fas fa-tags"></i>gitops</a></div></footer></article><nav class="page-nav"><div class="page-nav-next page-nav-item"><a href="/2022/07/12/onedev/" rel="next" title="OneDev 自建 Git 服务和 CI/CD"><i class="fas fa-angle-left"></i><span class="nav-title">OneDev 自建 Git 服务和 CI/CD</span></a></div><div class="page-nav-prev page-nav-item"></div></nav><link rel="stylesheet" href="//api.ibelieving.io/src/iDisqus.min.css?v=20190831"><script src="//api.ibelieving.io/src/iDisqus.min.js?v=20190831"></script><div id="comment"></div><script>function loadDisqus(){new iDisqus("comment",{forum:"ibelieving",site:"https://ibelieving.io",api:"https://api.ibelieving.io/api",url:"2022/07/30/argocd/",mode:1,timeout:2e3,init:!0,emojiPreview:!0}).count()}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(function(){var n;!isBot&&supportsIntersectionObserver?(n=new IntersectionObserver(function(e){e[0].isIntersecting&&(loadDisqus(),n.disconnect())},{threshold:[0]})).observe(document.getElementById("comment")):loadDisqus()},1)</script></div></div><aside class="sidebar" id="sidebar" style="background-size:50%"><div class="search"><div class="form-group"><i class="fas fa-search"></i><input type="search" id="search-input" name="q" results="0" placeholder="搜索" class="form-control"></div></div><div class="search-result-box" id="search-result"></div><div class="info sidebar-item" id="info"><img class="author-avatar" src="/images/avatar.gif" alt="Zhongyang Hao"><h1 class="author-name">Zhongyang Hao</h1><h2 class="author-description">生命在于运动，技术在于折腾。</h2><div class="blog-sidebar-tags"><h4 class="blog-sidebar-h4"><i class="fa fa-tag"></i>&nbsp;标签云</h4><ul class="blog-sidebar-tags-ul blog-sidebar-padding"><li><a href="/tags/Docker/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Docker">Docker</a></li><li><a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" class="tag-could" data-toggle="tooltip" data-placement="top" title="微服务">微服务</a></li><li><a href="/tags/PHP/" class="tag-could" data-toggle="tooltip" data-placement="top" title="PHP">PHP</a></li><li><a href="/tags/Swoole/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Swoole">Swoole</a></li><li><a href="/tags/Consul/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Consul">Consul</a></li><li><a href="/tags/Traefik/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Traefik">Traefik</a></li><li><a href="/tags/Go/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Go">Go</a></li><li><a href="/tags/%E7%88%AC%E8%99%AB/" class="tag-could" data-toggle="tooltip" data-placement="top" title="爬虫">爬虫</a></li><li><a href="/tags/Kindle/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Kindle">Kindle</a></li><li><a href="/tags/mobi/" class="tag-could" data-toggle="tooltip" data-placement="top" title="mobi">mobi</a></li><li><a href="/tags/IDE/" class="tag-could" data-toggle="tooltip" data-placement="top" title="IDE">IDE</a></li><li><a href="/tags/nps/" class="tag-could" data-toggle="tooltip" data-placement="top" title="nps">nps</a></li><li><a href="/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/" class="tag-could" data-toggle="tooltip" data-placement="top" title="内网穿透">内网穿透</a></li><li><a href="/tags/%E6%BA%90%E7%A0%81/" class="tag-could" data-toggle="tooltip" data-placement="top" title="源码">源码</a></li><li><a href="/tags/RabbitMQ/" class="tag-could" data-toggle="tooltip" data-placement="top" title="RabbitMQ">RabbitMQ</a></li><li><a href="/tags/Serverless/" class="tag-could" data-toggle="tooltip" data-placement="top" title="Serverless">Serverless</a></li><li><a href="/tags/TCP/" class="tag-could" data-toggle="tooltip" data-placement="top" title="TCP">TCP</a></li><li><a href="/tags/k8s/" class="tag-could" data-toggle="tooltip" data-placement="top" title="k8s">k8s</a></li><li><a href="/tags/git/" class="tag-could" data-toggle="tooltip" data-placement="top" title="git">git</a></li><li><a href="/tags/APISIX/" class="tag-could" data-toggle="tooltip" data-placement="top" title="APISIX">APISIX</a></li><li><a href="/tags/devops/" class="tag-could" data-toggle="tooltip" data-placement="top" title="devops">devops</a></li><li><a href="/tags/gitops/" class="tag-could" data-toggle="tooltip" data-placement="top" title="gitops">gitops</a></li></ul></div><script>var tag_cloud=$(".tag-could");tag_cloud.each(function(){var a=parseInt(6*Math.random());$(this).addClass("tag-could"+a)})</script></div><div class="sidebar-sticky"><hr><div class="post-toc sidebar-item" id="toc-div"><div><i class="fas fa-list-ol"></i>文章目录</div><div class="post-toc-content"><ol class="list-group toc"><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#介绍"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#安装部署"><span class="toc-text">安装部署</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#创建-Projects"><span class="toc-text">创建 Projects</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#创建-repo"><span class="toc-text">创建 repo</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#创建-App"><span class="toc-text">创建 App</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#同步时机"><span class="toc-text">同步时机</span></a></li><li class="toc-item toc-level-2"><a class="list-group-item toc-link" href="#总结"><span class="toc-text">总结</span></a></li></ol></div></div><hr><div class="social-link sidebar-item"><div><i class="far fa-address-card"></i>社交链接<p></p></div><ul><li><i class="fas fa-envelope"></i><a href="mailto:zyh94946@gmail.com" target="_blank">E-Mail</a></li><li><i class="fab fa-github"></i><a href="https://github.com/zyh94946" target="_blank">GitHub</a></li></ul></div></div></aside></div></div></main><footer id="footer" class="footer" style="background-color:#333"><div class="container"><div class="back-to-top"><button id="back-to-top"><i class="fas fa-angle-double-up" aria-label="回到顶部"></i></button></div><div class="footer-container"><div class="footer-left"><div class="copyright"><span class="author">Zhongyang Hao</span><span class="year"><i class="far fa-copyright"></i>2017 - 2022</span><span class="creative-commons"><i class="fab fa-creative-commons"></i><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">BY-NC-SA 4.0</a></span></div><div class="busuanzi"><span id="busuanzi_container_site_pv"><i class="fas fa-eye" aria-label="站点点击量" aria-hidden="false"></i><span id="busuanzi_value_site_pv"></span></span><span id="busuanzi_container_site_uv"><i class="fas fa-user" aria-label="站点用户数" aria-hidden="false"></i><span id="busuanzi_value_site_uv"></span></span><span id="busuanzi_container_page_pv"><i class="far fa-file-alt"></i><span id="busuanzi_value_page_pv" aria-label="页面点击量" aria-hidden="false"></span></span></div></div><div class="footer-right"><div class="custom-info"></div><div class="powered-by">由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动 | 主题 <a href="https://github.com/AlynxZhou/hexo-theme-aria/" target="_blank">ARIA</a></div></div></div></div></footer></body></html>